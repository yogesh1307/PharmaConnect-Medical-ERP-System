{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\DjangoMedicalStoreFrontEndInReactJS\\\\src\\\\pages\\\\CustomerRequestComponent.js\";\nimport React from \"react\";\nimport AuthHandler from \"../utils/AuthHandler\";\nimport APIHandler from \"../utils/APIHandler\";\n\nclass CustomerRequestComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      errorRes: false,\n      errorMessage: \"\",\n      btnMessage: 0,\n      sendData: false,\n      customerRequestDataList: [],\n      dataLoaded: false\n    };\n    this.formSubmit = this.formSubmit.bind(this);\n    this.completeCustomerRequestDetails = this.completeCustomerRequestDetails.bind(this);\n    this.formRef = React.createRef();\n  }\n\n  async formSubmit(event) {\n    event.preventDefault();\n    this.setState({\n      btnMessage: 1\n    });\n    var apiHandler = new APIHandler();\n    var response = await apiHandler.saveCustomerRequestData(event.target.name.value, event.target.phone.value, event.target.medicine_details.value, event.target.prescription.files[0]);\n    console.log(response);\n    this.setState({\n      btnMessage: 0\n    });\n    this.setState({\n      errorRes: response.data.error\n    });\n    this.setState({\n      errorMessage: response.data.message\n    });\n    this.setState({\n      sendData: true\n    });\n    this.fetchCustomerRequestData();\n    this.formRef.current.reset();\n  } //This Method Work When Our Page is Ready\n\n\n  componentDidMount() {\n    this.fetchCustomerRequestData();\n  }\n\n  async fetchCustomerRequestData() {\n    var apihandler = new APIHandler();\n    var customerRequestData = await apihandler.fetchAllCustomerRequest();\n    console.log(customerRequestData);\n    this.setState({\n      customerRequestDataList: customerRequestData.data.data\n    });\n    this.setState({\n      dataLoaded: true\n    });\n  }\n\n  async completeCustomerRequestDetails(customer_id, name, phone, medicine_details) {\n    console.log(customer_id);\n    var apihandler = new APIHandler();\n    var customerRequestData = await apihandler.updateCustomerRequest(customer_id, name, phone, medicine_details);\n    console.log(customerRequestData);\n    this.fetchCustomerRequestData();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"section\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"block-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, \"MANAGE CUSTOMER MEDICINE REQUEST\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row clearfix\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 19\n      }\n    }, \"Add CUSTOMER REQUEST\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.formSubmit,\n      ref: this.formRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email_address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"name\",\n      name: \"name\",\n      className: \"form-control\",\n      placeholder: \"Enter Customer Name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email_address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, \"Phone.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"phone\",\n      name: \"phone\",\n      className: \"form-control\",\n      placeholder: \"Enter Phone No.\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email_address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }\n    }, \"Medicine Details\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"medicine_details\",\n      name: \"medicine_details\",\n      className: \"form-control\",\n      placeholder: \"Enter Medicine Details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email_address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }\n    }, \"Prescription\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      id: \"prescription\",\n      name: \"prescription\",\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary m-t-15 waves-effect btn-block\",\n      disabled: this.state.btnMessage == 0 ? false : true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }\n    }, this.state.btnMessage == 0 ? \"Add Customer Request\" : \"Adding Customer Request Please Wait..\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }), this.state.errorRes == false && this.state.sendData == true ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 25\n      }\n    }, \"Success!\"), \" \", this.state.errorMessage, \".\") : \"\", this.state.errorRes == true && this.state.sendData == true ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 25\n      }\n    }, \"Failed!\"), this.state.errorMessage, \".\") : \"\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row clearfix\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    }, this.state.dataLoaded == false ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"preloader pl-size-xl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"spinner-layer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"circle-clipper left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"circle-clipper right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 29\n      }\n    }))))) : \"\", /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 19\n      }\n    }, \"All Customer Medicine Request\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"body table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-hover\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 25\n      }\n    }, \"#ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 25\n      }\n    }, \"NAME\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 25\n      }\n    }, \"Phone\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 25\n      }\n    }, \"Medicine Details\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 25\n      }\n    }, \"PRESCRIPTION\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 25\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 25\n      }\n    }, \"Added On\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 25\n      }\n    }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 21\n      }\n    }, this.state.customerRequestDataList.map(CustomerRequest => /*#__PURE__*/React.createElement(\"tr\", {\n      key: CustomerRequest.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 29\n      }\n    }, CustomerRequest.id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 29\n      }\n    }, CustomerRequest.customer_name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 29\n      }\n    }, CustomerRequest.phone), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 29\n      }\n    }, CustomerRequest.medicine_details), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 29\n      }\n    }, CustomerRequest.prescription == null ? \"\" : /*#__PURE__*/React.createElement(\"img\", {\n      src: CustomerRequest.prescription,\n      style: {\n        width: 100,\n        height: 100\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 29\n      }\n    }, CustomerRequest.status == 0 ? \"Pending\" : \"Completed\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 29\n      }\n    }, new Date(CustomerRequest.added_on).toLocaleString()), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 29\n      }\n    }, CustomerRequest.status == 0 ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-block btn-warning\",\n      onClick: () => this.completeCustomerRequestDetails(CustomerRequest.id, CustomerRequest.customer_name, CustomerRequest.phone, CustomerRequest.medicine_details),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 33\n      }\n    }, \"COMPLETE?\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-block btn-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 33\n      }\n    }, \"COMPLETED\"))))))))))));\n  }\n\n}\n\nexport default CustomerRequestComponent;","map":{"version":3,"sources":["D:/react/DjangoMedicalStoreFrontEndInReactJS/src/pages/CustomerRequestComponent.js"],"names":["React","AuthHandler","APIHandler","CustomerRequestComponent","Component","constructor","props","state","errorRes","errorMessage","btnMessage","sendData","customerRequestDataList","dataLoaded","formSubmit","bind","completeCustomerRequestDetails","formRef","createRef","event","preventDefault","setState","apiHandler","response","saveCustomerRequestData","target","name","value","phone","medicine_details","prescription","files","console","log","data","error","message","fetchCustomerRequestData","current","reset","componentDidMount","apihandler","customerRequestData","fetchAllCustomerRequest","customer_id","updateCustomerRequest","render","map","CustomerRequest","id","customer_name","width","height","status","Date","added_on","toLocaleString"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport AuthHandler from \"../utils/AuthHandler\";\nimport APIHandler from \"../utils/APIHandler\";\n\nclass CustomerRequestComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.formSubmit = this.formSubmit.bind(this);\n    this.completeCustomerRequestDetails = this.completeCustomerRequestDetails.bind(\n      this\n    );\n    this.formRef = React.createRef();\n  }\n  state = {\n    errorRes: false,\n    errorMessage: \"\",\n    btnMessage: 0,\n    sendData: false,\n    customerRequestDataList: [],\n    dataLoaded: false,\n  };\n\n  async formSubmit(event) {\n    event.preventDefault();\n    this.setState({ btnMessage: 1 });\n\n    var apiHandler = new APIHandler();\n    var response = await apiHandler.saveCustomerRequestData(\n      event.target.name.value,\n      event.target.phone.value,\n      event.target.medicine_details.value,\n      event.target.prescription.files[0]\n    );\n    console.log(response);\n    this.setState({ btnMessage: 0 });\n    this.setState({ errorRes: response.data.error });\n    this.setState({ errorMessage: response.data.message });\n    this.setState({ sendData: true });\n    this.fetchCustomerRequestData();\n    this.formRef.current.reset();\n  }\n\n  //This Method Work When Our Page is Ready\n  componentDidMount() {\n    this.fetchCustomerRequestData();\n  }\n\n  async fetchCustomerRequestData() {\n    var apihandler = new APIHandler();\n    var customerRequestData = await apihandler.fetchAllCustomerRequest();\n    console.log(customerRequestData);\n    this.setState({ customerRequestDataList: customerRequestData.data.data });\n    this.setState({ dataLoaded: true });\n  }\n\n  async completeCustomerRequestDetails(\n    customer_id,\n    name,\n    phone,\n    medicine_details\n  ) {\n    console.log(customer_id);\n    var apihandler = new APIHandler();\n    var customerRequestData = await apihandler.updateCustomerRequest(\n      customer_id,\n      name,\n      phone,\n      medicine_details\n    );\n    console.log(customerRequestData);\n    this.fetchCustomerRequestData();\n  }\n\n  render() {\n    return (\n      <section className=\"content\">\n        <div className=\"container-fluid\">\n          <div className=\"block-header\">\n            <h2>MANAGE CUSTOMER MEDICINE REQUEST</h2>\n          </div>\n          <div className=\"row clearfix\">\n            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n              <div className=\"card\">\n                <div className=\"header\">\n                  <h2>Add CUSTOMER REQUEST</h2>\n                </div>\n                <div className=\"body\">\n                  <form onSubmit={this.formSubmit} ref={this.formRef}>\n                    <label htmlFor=\"email_address\">Name</label>\n                    <div className=\"form-group\">\n                      <div className=\"form-line\">\n                        <input\n                          type=\"text\"\n                          id=\"name\"\n                          name=\"name\"\n                          className=\"form-control\"\n                          placeholder=\"Enter Customer Name\"\n                        />\n                      </div>\n                    </div>\n                    <label htmlFor=\"email_address\">Phone.</label>\n                    <div className=\"form-group\">\n                      <div className=\"form-line\">\n                        <input\n                          type=\"text\"\n                          id=\"phone\"\n                          name=\"phone\"\n                          className=\"form-control\"\n                          placeholder=\"Enter Phone No.\"\n                        />\n                      </div>\n                    </div>\n                    <label htmlFor=\"email_address\">Medicine Details</label>\n                    <div className=\"form-group\">\n                      <div className=\"form-line\">\n                        <input\n                          type=\"text\"\n                          id=\"medicine_details\"\n                          name=\"medicine_details\"\n                          className=\"form-control\"\n                          placeholder=\"Enter Medicine Details\"\n                        />\n                      </div>\n                    </div>\n                    <label htmlFor=\"email_address\">Prescription</label>\n                    <div className=\"form-group\">\n                      <div className=\"form-line\">\n                        <input\n                          type=\"file\"\n                          id=\"prescription\"\n                          name=\"prescription\"\n                          className=\"form-control\"\n                        />\n                      </div>\n                    </div>\n                    <br />\n                    <button\n                      type=\"submit\"\n                      className=\"btn btn-primary m-t-15 waves-effect btn-block\"\n                      disabled={this.state.btnMessage == 0 ? false : true}\n                    >\n                      {this.state.btnMessage == 0\n                        ? \"Add Customer Request\"\n                        : \"Adding Customer Request Please Wait..\"}\n                    </button>\n                    <br />\n                    {this.state.errorRes == false &&\n                    this.state.sendData == true ? (\n                      <div className=\"alert alert-success\">\n                        <strong>Success!</strong> {this.state.errorMessage}.\n                      </div>\n                    ) : (\n                      \"\"\n                    )}\n                    {this.state.errorRes == true &&\n                    this.state.sendData == true ? (\n                      <div className=\"alert alert-danger\">\n                        <strong>Failed!</strong>\n                        {this.state.errorMessage}.\n                      </div>\n                    ) : (\n                      \"\"\n                    )}\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"row clearfix\">\n            <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n              <div className=\"card\">\n                <div className=\"header\">\n                  {this.state.dataLoaded == false ? (\n                    <div className=\"text-center\">\n                      <div className=\"preloader pl-size-xl\">\n                        <div className=\"spinner-layer\">\n                          <div className=\"circle-clipper left\">\n                            <div className=\"circle\"></div>\n                          </div>\n                          <div className=\"circle-clipper right\">\n                            <div className=\"circle\"></div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ) : (\n                    \"\"\n                  )}\n                  <h2>All Customer Medicine Request</h2>\n                </div>\n                <div className=\"body table-responsive\">\n                  <table className=\"table table-hover\">\n                    <thead>\n                      <tr>\n                        <th>#ID</th>\n                        <th>NAME</th>\n                        <th>Phone</th>\n                        <th>Medicine Details</th>\n                        <th>PRESCRIPTION</th>\n                        <th>Status</th>\n                        <th>Added On</th>\n                        <th>Action</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {this.state.customerRequestDataList.map(\n                        (CustomerRequest) => (\n                          <tr key={CustomerRequest.id}>\n                            <td>{CustomerRequest.id}</td>\n                            <td>{CustomerRequest.customer_name}</td>\n                            <td>{CustomerRequest.phone}</td>\n                            <td>{CustomerRequest.medicine_details}</td>\n                            <td>\n                              {CustomerRequest.prescription == null ? (\n                                \"\"\n                              ) : (\n                                <img\n                                  src={CustomerRequest.prescription}\n                                  style={{ width: 100, height: 100 }}\n                                />\n                              )}\n                            </td>\n                            <td>\n                              {CustomerRequest.status == 0\n                                ? \"Pending\"\n                                : \"Completed\"}\n                            </td>\n                            <td>\n                              {new Date(\n                                CustomerRequest.added_on\n                              ).toLocaleString()}\n                            </td>\n                            <td>\n                              {CustomerRequest.status == 0 ? (\n                                <button\n                                  className=\"btn btn-block btn-warning\"\n                                  onClick={() =>\n                                    this.completeCustomerRequestDetails(\n                                      CustomerRequest.id,\n                                      CustomerRequest.customer_name,\n                                      CustomerRequest.phone,\n                                      CustomerRequest.medicine_details\n                                    )\n                                  }\n                                >\n                                  COMPLETE?\n                                </button>\n                              ) : (\n                                <button className=\"btn btn-block btn-success\">\n                                  COMPLETED\n                                </button>\n                              )}\n                            </td>\n                          </tr>\n                        )\n                      )}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default CustomerRequestComponent;\n"]},"metadata":{},"sourceType":"module"}